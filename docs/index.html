<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>参照树形 RefTree</title>
    <link type="text/css" rel="stylesheet" href="assets/css/bootstrap.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/bootstrap-responsive.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css"/>
    <link type="text/css" rel="stylesheet" href="assets/css/style.css"/>
  </head>
<body>

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span3"><ul class="nav nav-list">
    <li class="sidebar-header-1"><a href="#参照树形-reftree">参照树形 RefTree</a></li>
    <li class="sidebar-header-2"><a href="#何时使用">何时使用</a></li>
    <li class="sidebar-header-2"><a href="#如何使用">如何使用</a></li>
    <li class="sidebar-header-2"><a href="#代码演示">代码演示</a></li>
    <li class="sidebar-header-2"><a href="#分类">分类</a></li>
    <li class="sidebar-header-2"><a href="#api">API</a></li>
    <li class="sidebar-header-3"><a href="#reftreebaseui">RefTreeBaseUI</a></li>
    <li class="sidebar-header-3"><a href="#reftreewithinput">RefTreeWithInput</a></li>
    <li class="sidebar-header-2"><a href="#注意事项">注意事项</a></li>
    <li class="sidebar-header-3"><a href="#参数解析">参数解析</a></li>
    <li class="sidebar-header-2"><a href="#更新日志">更新日志</a></li>
</ul>
      </div>
      <div class="span9 main"><h1 id="参照树形-reftree">参照树形 RefTree</h1>
<h2 id="何时使用">何时使用</h2>
<p>单选多选树形参照</p>
<h2 id="如何使用">如何使用</h2>
<pre class="hljs"><code>$ ynpm install ref-tree --save

引入

import RefTreeBaseUI from <span class="hljs-string">'ref-tree'</span>;
或者
import { RefTreeWithInput } from <span class="hljs-string">'ref-tree'</span>;

样式

import <span class="hljs-string">'ref-tree/lib/index.css'</span>;
</code></pre><h2 id="代码演示">代码演示</h2>
<h2 id="分类">分类</h2>
<p>RefTreeBaseUI（默认）</p>
<pre class="hljs"><code>树参照通用ui</code></pre><p>RefTreeWithInput</p>
<pre class="hljs"><code> 带文本框的树参照弹出窗。</code></pre><h2 id="api">API</h2>
<h3 id="reftreebaseui">RefTreeBaseUI</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td><code>string</code></td>
<td>&#39;弹窗标题&#39;</td>
<td>打开上传的模态框显示的标题文字</td>
<td>否</td>
</tr>
<tr>
<td>className</td>
<td><code>string</code></td>
<td>空</td>
<td>参照class名，作用于弹出层，默认为空。使用&#39;ref-walsin-modal&#39;参照使用另外一种风格</td>
<td>否</td>
</tr>
<tr>
<td>showLoading</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否展示loading，多用于请求中</td>
<td>否</td>
</tr>
<tr>
<td>backdrop</td>
<td><code>bool</code></td>
<td>true</td>
<td>弹出层是否有模态层，true 显示，false 不显示</td>
<td>否</td>
</tr>
<tr>
<td>lang</td>
<td><code>string</code></td>
<td><code>zh_CN</code></td>
<td>多语配置。取值范围[en_US,zh_TW,fr_FR,de_DE,ja_JP,zh_CN]</td>
<td>否</td>
</tr>
<tr>
<td>buttons</td>
<td><code>object</code></td>
<td>-</td>
<td>{buttons:{cancelText:&#39;取消&#39;,clearText:&#39;清空已选&#39;,okText:&#39;确认&#39;}} 按钮文字展示</td>
<td>否</td>
</tr>
<tr>
<td>emptyBut</td>
<td><code>bool</code></td>
<td>false</td>
<td>清空按钮是否展示</td>
<td>否</td>
</tr>
<tr>
<td>checkStrictly</td>
<td><code>bool</code></td>
<td>false</td>
<td>checkable状态下节点选择完全受控（父子节点选中状态不再关联）</td>
<td>否</td>
</tr>
<tr>
<td>multiple</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否单选， true 多选，false 单选， 同时多选时不会有确认和取消按钮，多选时会出现复选框</td>
<td>否</td>
</tr>
<tr>
<td>showLine</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否显示连接线</td>
<td>否</td>
</tr>
<tr>
<td>searchable</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否显示搜索框，弹出层是否带有搜索框，true 显示，false 不显示。</td>
<td>否</td>
</tr>
<tr>
<td>lazyModal</td>
<td><code>bool</code></td>
<td>false</td>
<td>树参照是异步加载，回调onLoadData</td>
<td>否</td>
</tr>
<tr>
<td>onLoadData</td>
<td><code>function(treeNode)</code></td>
<td>--</td>
<td>懒加载传个树的回调方法。与lazyModal配合使用，lazyModal=true才会回调该函数</td>
<td>否</td>
</tr>
<tr>
<td>defaultExpandAll</td>
<td><code>bool</code></td>
<td>--</td>
<td>展开所有节点，true 展开，false 不展开。懒加载下默认为false,defaultExpandAll不起效。</td>
<td>否</td>
</tr>
<tr>
<td>nodeDisplay</td>
<td><code>string 或 function</code></td>
<td>&#39;{refname}&#39;</td>
<td>指定树节点渲染内容，这里为了提供根据数据渲染节点图标使用。<br/>当为字符串时则会根据<code>{}</code>包裹的正则匹配替换。<br/>如： nodeDisplay:&#39;{refname}&#39;<br/>当为函数时则需自定义返回内容，参数为迭代已选择的记录。<br/>如：<br/>displayField: (record)=&gt;  ${record.refname}-${record.refname}。是树节点展示的内容</td>
<td>否</td>
</tr>
<tr>
<td>treeData</td>
<td><code>Array</code></td>
<td>[]</td>
<td>树参照数据</td>
<td>否</td>
</tr>
<tr>
<td>showModal</td>
<td><code>bool</code></td>
<td>false</td>
<td>是否展示参照 ，true显示，false不显示</td>
<td>否</td>
</tr>
<tr>
<td>onSave</td>
<td><code>function(arr)</code></td>
<td>()=&gt;{}</td>
<td>参照确定按钮的回调。arr是所有选中节点，数组形式。</td>
<td>否</td>
</tr>
<tr>
<td>onCancel</td>
<td><code>function()</code></td>
<td>()=&gt;{}</td>
<td>参照取消按钮的回调</td>
<td>否</td>
</tr>
<tr>
<td>matchData</td>
<td><code>Array</code></td>
<td>[]</td>
<td>选中的节点，选中节点只从matchData中获取。matchData是全部选中的数据</td>
<td>否</td>
</tr>
<tr>
<td>theme</td>
<td><code>String</code></td>
<td>&#39;ref-red&#39;</td>
<td>参照主题，现在就两种选择&#39;ref-red&#39;或者&#39;ref-blue&#39;</td>
<td>否</td>
</tr>
<tr>
<td>getRefTreeData</td>
<td><code>function(value)</code></td>
<td>--</td>
<td>搜索的回调方法，value是搜索值</td>
<td>否</td>
</tr>
<tr>
<td>valueField</td>
<td><code>string</code></td>
<td>&#39;refpk&#39;</td>
<td>指定真实数据的键。树节点key也是取valueField指定值</td>
<td>否</td>
</tr>
</tbody>
</table>
<h3 id="reftreewithinput">RefTreeWithInput</h3>
<p>除了使用上述<RefTreeBaseUI/>的参数（showModal不可使用）还有以下参数。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
<th>必选</th>
</tr>
</thead>
<tbody>
<tr>
<td>wrapClassName</td>
<td><code>string</code></td>
<td>空</td>
<td>文本框的class样，默认为空。</td>
<td>否</td>
</tr>
<tr>
<td>placeholder</td>
<td><code>string</code></td>
<td>空</td>
<td>文本框的 placeholder</td>
<td>否</td>
</tr>
<tr>
<td>style</td>
<td><code>object</code></td>
<td>{width:200}</td>
<td>文本框的style，默认宽度200px</td>
<td>否 </td>
</tr>
<tr>
<td>filterUrl</td>
<td><code>string</code></td>
<td>空</td>
<td>快捷录入接口。</td>
<td>否</td>
</tr>
<tr>
<td>filterUrlFunc</td>
<td><code>function(value)</code></td>
<td>()=&gt;{}</td>
<td>必须配合filterUrl使用，当filterUrl为空或者不传入，才会回调filterUrlFunc</td>
<td>否</td>
</tr>
<tr>
<td>filertData</td>
<td><code>Array</code></td>
<td>[]</td>
<td>必须配合filterUrlFunc使用，filterData是过滤列表全部数据</td>
<td>否</td>
</tr>
<tr>
<td>displayField</td>
<td><code>string 或 function</code></td>
<td>&#39;{refname}&#39;</td>
<td>input中显示的内容的格式和过滤列表显示的内容格式。<br/>当为字符串时则会根据<code>{}</code>包裹的增则匹配替换。<br/>如：<code>{refname}</code><br/>当为函数时则需自定义返回内容，参数为迭代已选择的记录。<br/>如：<br/>displayField: (record)=&gt;  ${record.refname}-${record.refname}，是input展示value</td>
<td>否</td>
</tr>
<tr>
<td>value</td>
<td><code>string</code></td>
<td>空</td>
<td>带有input框参照的input默认值，展示形式配合displayField。格式必须符合<code>&#39;{&quot;refname&quot;:&quot;初级-T1&quot;,&quot;refpk&quot;:&quot;level1&quot;}&#39;</code>。refname和refpk必须有，refpk表示该条数据的键，应取valueFiled指定值</td>
<td>否</td>
</tr>
<tr>
<td>disabled</td>
<td><code>bool</code></td>
<td>false</td>
<td>禁用整个input框</td>
<td>否</td>
</tr>
<tr>
<td>onChange</td>
<td><code>function(values, record)</code></td>
<td>--</td>
<td>value改变、选中过滤数据和保存时数据回调。values是obj，格式{&#39;refname&#39;:&#39;&#39;,&#39;refpk&#39;:&#39;&#39;},record是该条完整数据</td>
<td>否</td>
</tr>
<tr>
<td>canClickGoOn</td>
<td><code>function()</code></td>
<td>()=&gt;{return true}</td>
<td>当点击文本框右侧弹出按钮时是否打开modal<br>适用于级联情况下当选择不全时的处理</td>
<td>否 </td>
</tr>
<tr>
<td>canInputGoOn</td>
<td><code>function()</code></td>
<td>()=&gt;{return true}</td>
<td>当点击文本框触发快捷录入时是否可以录入<br>适用于级联情况下当选择不全时的处理</td>
<td>否 </td>
</tr>
</tbody>
</table>
<h2 id="注意事项">注意事项</h2>
<h3 id="参数解析">参数解析</h3>
<ul class="list">
<li><p>value、displayField
  value和displayField是针对input框来说。value格式必须符合<code>&#39;{&quot;refname&quot;:&quot;初级-T1&quot;,&quot;refpk&quot;:&quot;level1&quot;}&#39;</code>。refname字段不可变，refpk是该数据键，要求具有唯一性。
  displayField确定input中显示内容的格式和过滤列表显示内容的格式</p>
</li>
<li><p>value、valueFiled
  value是input需要使用的数据，要求如上。
  valueFiled指定数据源的键，要求具有唯一性。
  因此value中refpk指定值应与valueFiled取值一致。</p>
</li>
</ul>
<h2 id="更新日志">更新日志</h2>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
</body>
</html>
